<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CAP-402 API Documentation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --arcium-purple: #6C44FC;
      --bg-dark: #0a0a0c;
      --bg-card: rgba(255,255,255,0.03);
      --border-subtle: rgba(255,255,255,0.08);
      --text-primary: #fafafa;
      --text-secondary: #888;
      --green: #22c55e;
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      min-height: 100vh;
      line-height: 1.6;
    }
    
    .topbar {
      background: linear-gradient(135deg, var(--bg-dark) 0%, #1a1a2e 100%);
      padding: 1rem 2rem;
      border-bottom: 1px solid var(--border-subtle);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .topbar-left h1 {
      font-size: 1.25rem;
      font-weight: 600;
      background: linear-gradient(135deg, #fff 0%, var(--arcium-purple) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .nav-links { display: flex; gap: 0.5rem; }
    
    .nav-links a {
      padding: 0.4rem 0.8rem;
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: 6px;
      font-size: 0.8rem;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.2s;
    }
    
    .nav-links a:hover, .nav-links a.active {
      background: rgba(108, 68, 252, 0.15);
      border-color: var(--arcium-purple);
      color: var(--text-primary);
    }
    
    .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    
    .tabs { display: flex; gap: 0.5rem; margin-bottom: 2rem; border-bottom: 1px solid var(--border-subtle); padding-bottom: 1rem; }
    .tab { padding: 0.5rem 1rem; background: transparent; border: none; color: var(--text-secondary); cursor: pointer; font-size: 0.9rem; border-radius: 6px; }
    .tab:hover { color: var(--text-primary); }
    .tab.active { background: var(--arcium-purple); color: white; }
    
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    
    h2 { font-size: 1.5rem; margin-bottom: 1rem; color: var(--text-primary); }
    h3 { font-size: 1.1rem; margin: 1.5rem 0 0.75rem; color: var(--arcium-purple); }
    p { color: var(--text-secondary); margin-bottom: 1rem; }
    
    .endpoint-group { margin-bottom: 2rem; }
    .endpoint-group-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--border-subtle); }
    
    .endpoint {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: 8px;
      margin-bottom: 0.75rem;
      overflow: hidden;
    }
    
    .endpoint-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem 1rem;
      cursor: pointer;
    }
    
    .endpoint-header:hover { background: rgba(255,255,255,0.02); }
    
    .method {
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      min-width: 50px;
      text-align: center;
    }
    .method.get { background: var(--green); color: white; }
    .method.post { background: var(--arcium-purple); color: white; }
    
    .endpoint-path { font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--text-primary); }
    .endpoint-desc { font-size: 0.8rem; color: var(--text-secondary); margin-left: auto; }
    
    .endpoint-body {
      display: none;
      padding: 1rem;
      background: rgba(0,0,0,0.2);
      border-top: 1px solid var(--border-subtle);
    }
    
    .endpoint.open .endpoint-body { display: block; }
    
    .code-block {
      background: #1a1a1a;
      border: 1px solid var(--border-subtle);
      border-radius: 6px;
      padding: 1rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      overflow-x: auto;
      color: var(--green);
      margin: 0.5rem 0;
    }
    
    .whitepaper-content { max-width: 800px; }
    .whitepaper-content h1 { font-size: 2rem; margin-bottom: 0.5rem; }
    .whitepaper-content h2 { margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border-subtle); }
    .whitepaper-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    .whitepaper-content th, .whitepaper-content td { border: 1px solid var(--border-subtle); padding: 0.5rem 1rem; text-align: left; }
    .whitepaper-content th { background: var(--bg-card); color: var(--text-primary); }
    .whitepaper-content td { color: var(--text-secondary); }
    .whitepaper-content code { background: rgba(108, 68, 252, 0.2); color: var(--arcium-purple); padding: 2px 6px; border-radius: 4px; font-family: 'JetBrains Mono', monospace; }
    .whitepaper-content blockquote { border-left: 3px solid var(--arcium-purple); padding-left: 1rem; margin: 1rem 0; color: var(--text-secondary); font-style: italic; }
    .whitepaper-content ul, .whitepaper-content ol { margin: 1rem 0; padding-left: 1.5rem; color: var(--text-secondary); }
    .whitepaper-content li { margin-bottom: 0.5rem; }
    .whitepaper-content pre.code-block { background: #111; border: 1px solid var(--border-subtle); border-radius: 6px; padding: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; overflow-x: auto; color: var(--green); white-space: pre; margin: 1rem 0; }
    .whitepaper-content h3 { font-size: 1rem; margin: 1.5rem 0 0.75rem; color: var(--arcium-purple); }
    .whitepaper-content a { color: var(--arcium-purple); }
    
    /* API Reference detailed styles */
    .endpoint-section { margin-bottom: 1.25rem; }
    .endpoint-section:last-child { margin-bottom: 0; }
    .endpoint-section-title { font-size: 0.65rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); margin-bottom: 0.5rem; font-weight: 600; }
    .params-table { width: 100%; border-collapse: collapse; font-size: 0.8rem; }
    .params-table th, .params-table td { padding: 0.5rem 0.75rem; text-align: left; border-bottom: 1px solid var(--border-subtle); }
    .params-table th { color: var(--text-secondary); font-weight: 500; font-size: 0.7rem; text-transform: uppercase; }
    .params-table td { color: var(--text-primary); }
    .params-table .param-name { font-family: 'JetBrains Mono', monospace; color: var(--arcium-purple); font-weight: 500; }
    .params-table .param-type { font-family: 'JetBrains Mono', monospace; color: #eab308; font-size: 0.7rem; }
    .params-table .param-required { color: #ef4444; font-size: 0.65rem; font-weight: 600; }
    .params-table .param-optional { color: var(--text-secondary); font-size: 0.65rem; }
    .response-block { background: #111; border: 1px solid var(--border-subtle); border-radius: 6px; padding: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; overflow-x: auto; white-space: pre; }
    .response-block .key { color: var(--arcium-purple); }
    .response-block .string { color: var(--green); }
    .response-block .number { color: #eab308; }
    .response-block .boolean { color: #f472b6; }
    .error-list { list-style: none; padding: 0; margin: 0; }
    .error-list li { display: flex; gap: 0.75rem; padding: 0.5rem 0; border-bottom: 1px solid var(--border-subtle); font-size: 0.8rem; }
    .error-list li:last-child { border-bottom: none; }
    .error-code { font-family: 'JetBrains Mono', monospace; color: #ef4444; font-weight: 600; min-width: 40px; }
    .error-desc { color: var(--text-secondary); }
    
    /* Mobile responsive */
    @media (max-width: 768px) {
      .topbar { padding: 0.75rem 1rem; flex-wrap: wrap; gap: 0.5rem; }
      .topbar-left h1 { font-size: 1rem; }
      .nav-links a { padding: 0.3rem 0.6rem; font-size: 0.7rem; }
      .container { padding: 1rem; }
      .tabs { flex-wrap: wrap; }
      .tab { padding: 0.4rem 0.75rem; font-size: 0.8rem; }
      h2 { font-size: 1.25rem; }
      .endpoint-header { flex-wrap: wrap; gap: 0.5rem; padding: 0.6rem 0.75rem; }
      .endpoint-desc { width: 100%; margin-left: 0; font-size: 0.7rem; opacity: 0.7; }
      .endpoint-path { font-size: 0.8rem; }
      .method { font-size: 0.6rem; padding: 0.2rem 0.4rem; min-width: 42px; }
      .endpoint-body { padding: 0.75rem; }
      .code-block { font-size: 0.7rem; padding: 0.75rem; }
      .params-table { font-size: 0.7rem; display: block; overflow-x: auto; }
      .params-table th, .params-table td { padding: 0.4rem 0.5rem; }
      .response-block { font-size: 0.65rem; padding: 0.75rem; }
      .whitepaper-content h1 { font-size: 1.5rem; }
      .whitepaper-content h2 { font-size: 1.1rem; }
      .whitepaper-content h3 { font-size: 0.9rem; }
      .whitepaper-content p, .whitepaper-content li { font-size: 0.85rem; }
      .whitepaper-content table { font-size: 0.75rem; display: block; overflow-x: auto; }
      .whitepaper-content th, .whitepaper-content td { padding: 0.4rem 0.6rem; }
      .whitepaper-content pre.code-block { font-size: 0.65rem; padding: 0.75rem; }
    }
    
    @media (max-width: 480px) {
      .topbar { padding: 0.5rem 0.75rem; }
      .topbar-left h1 { font-size: 0.9rem; }
      .container { padding: 0.75rem; }
      .endpoint-path { font-size: 0.75rem; word-break: break-all; }
      .code-block { font-size: 0.65rem; word-break: break-all; white-space: pre-wrap; }
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="topbar-left" style="display: flex; align-items: center; gap: 0.75rem;">
      <a href="/" style="display: flex; align-items: center;">
        <img src="/public/logo2.png" alt="CAP-402" style="height: 28px; width: auto;">
      </a>
      <h1 style="font-size: 1rem;">Documentation</h1>
    </div>
    <div class="nav-links">
      <a href="/docs">Docs</a>
      <a href="/docs/sdk-docs.html">SDK</a>
      <a href="/docs/whitepaper.html">Whitepaper</a>
      <a href="/">Home</a>
      <a href="https://github.com/TheQuantumChronicle/CAP402" target="_blank">GitHub</a>
    </div>
  </div>
  
  <div class="container">
    <h2>API Reference</h2>
      <p>Base URL: <code>https://cap402.com</code> | Authentication: <code>X-API-Key</code> header (optional)</p>

      <!-- Quick Examples -->
      <div class="endpoint-group">
        <div class="endpoint-group-title">Common Use Cases</div>
        <table class="params-table">
          <tr><th>I want to...</th><th>Endpoint</th><th>Example</th></tr>
          <tr><td>Get token price</td><td><code>POST /invoke</code></td><td><code>{"capability_id": "cap.price.lookup.v1", "inputs": {"base_token": "SOL"}}</code></td></tr>
          <tr><td>Swap tokens</td><td><code>POST /invoke</code></td><td><code>{"capability_id": "cap.swap.execute.v1", "inputs": {"token_in": "SOL", "token_out": "USDC", "amount_in": 10}}</code></td></tr>
          <tr><td>Check MEV risk</td><td><code>POST /mev/analyze</code></td><td><code>{"token_in": "SOL", "amount": 1000}</code></td></tr>
          <tr><td>Find arbitrage</td><td><code>GET /alpha/arbitrage</code></td><td>Returns live opportunities</td></tr>
          <tr><td>Track whales</td><td><code>GET /alpha/whale-tracker</code></td><td>Returns recent large txs</td></tr>
          <tr><td>List capabilities</td><td><code>GET /capabilities</code></td><td>Returns all 20+ capabilities</td></tr>
          <tr><td>Private AI analysis</td><td><code>POST /invoke</code></td><td><code>{"capability_id": "cap.ai.inference.v1", "inputs": {"model": "sentiment-analysis", "input": "text", "privacy_level": 2}}</code></td></tr>
          <tr><td>Private KYC proof</td><td><code>POST /invoke</code></td><td><code>{"capability_id": "cap.zk.kyc.v1", "inputs": {"verification_type": "age", "public_inputs": {"min_age": 18}}}</code></td></tr>
        </table>
      </div>
      
      <!-- Global Errors -->
      <div class="endpoint-group">
        <div class="endpoint-group-title">Common Error Codes</div>
        <ul class="error-list">
          <li><span class="error-code">400</span><span class="error-desc">Bad Request — Invalid parameters or malformed JSON</span></li>
          <li><span class="error-code">401</span><span class="error-desc">Unauthorized — Missing or invalid API key for protected endpoints</span></li>
          <li><span class="error-code">404</span><span class="error-desc">Not Found — Capability or resource doesn't exist</span></li>
          <li><span class="error-code">429</span><span class="error-desc">Rate Limited — Too many requests (10/min anonymous, 200/min trusted)</span></li>
          <li><span class="error-code">500</span><span class="error-desc">Internal Error — Server-side failure, retry with exponential backoff</span></li>
        </ul>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">Core Capabilities</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/invoke</span>
            <span class="endpoint-desc">Execute any capability by ID</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>The primary endpoint for executing capabilities. Supports all 13 registered capabilities including price lookups, swaps, ZK proofs, FHE compute, and confidential operations.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">capability_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Capability identifier (e.g., <code>cap.price.lookup.v1</code>)</td></tr>
                <tr><td class="param-name">inputs</td><td class="param-type">object</td><td class="param-required">required</td><td>Capability-specific input parameters</td></tr>
                <tr><td class="param-name">preferences</td><td class="param-type">object</td><td class="param-optional">optional</td><td>Execution preferences: <code>privacy_level</code> (0-3), <code>max_cost</code>, <code>timeout_ms</code></td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/invoke \
  -H "Content-Type: application/json" \
  -d '{
    "capability_id": "cap.price.lookup.v1",
    "inputs": { "base_token": "SOL", "quote_token": "USDC" }
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"capability_id"</span>: <span class="string">"cap.price.lookup.v1"</span>,
  <span class="key">"outputs"</span>: {
    <span class="key">"price"</span>: <span class="number">185.42</span>,
    <span class="key">"source"</span>: <span class="string">"jupiter"</span>,
    <span class="key">"timestamp"</span>: <span class="number">1705347600000</span>
  },
  <span class="key">"execution_time_ms"</span>: <span class="number">45</span>,
  <span class="key">"receipt"</span>: {
    <span class="key">"receipt_id"</span>: <span class="string">"rec_abc123"</span>,
    <span class="key">"signature"</span>: <span class="string">"0x..."</span>
  }
}</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Errors</div>
              <ul class="error-list">
                <li><span class="error-code">400</span><span class="error-desc">Missing capability_id or inputs</span></li>
                <li><span class="error-code">404</span><span class="error-desc">Capability not found</span></li>
                <li><span class="error-code">422</span><span class="error-desc">Invalid inputs for capability schema</span></li>
              </ul>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/capabilities</span>
            <span class="endpoint-desc">List all registered capabilities</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Returns all 13 registered capabilities with their full schemas, input/output definitions, and sponsor information.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">category</td><td class="param-type">string</td><td class="param-optional">optional</td><td>Filter by category: <code>price</code>, <code>wallet</code>, <code>swap</code>, <code>zk</code>, <code>fhe</code></td></tr>
                <tr><td class="param-name">privacy_level</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Filter by minimum privacy level (0-3)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl https://cap402.com/capabilities</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"capabilities"</span>: [
    {
      <span class="key">"id"</span>: <span class="string">"cap.price.lookup.v1"</span>,
      <span class="key">"name"</span>: <span class="string">"Price Lookup"</span>,
      <span class="key">"description"</span>: <span class="string">"Get real-time token prices"</span>,
      <span class="key">"sponsor"</span>: <span class="string">"helius"</span>,
      <span class="key">"execution"</span>: { <span class="key">"mode"</span>: <span class="string">"public"</span> },
      <span class="key">"inputs"</span>: { <span class="key">"base_token"</span>: <span class="string">"string"</span> },
      <span class="key">"outputs"</span>: { <span class="key">"price"</span>: <span class="string">"number"</span> }
    }
  ],
  <span class="key">"total"</span>: <span class="number">13</span>
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">A2A Protocol</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/a2a/invoke</span>
            <span class="endpoint-desc">Agent-to-agent capability invocation</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Enables one agent to invoke a capability through another agent. Tracks reputation for both agents and supports privacy levels.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">from_agent</td><td class="param-type">string</td><td class="param-required">required</td><td>Source agent ID</td></tr>
                <tr><td class="param-name">to_agent</td><td class="param-type">string</td><td class="param-required">required</td><td>Target agent ID</td></tr>
                <tr><td class="param-name">capability_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Capability to invoke</td></tr>
                <tr><td class="param-name">inputs</td><td class="param-type">object</td><td class="param-optional">optional</td><td>Capability inputs</td></tr>
                <tr><td class="param-name">privacy_level</td><td class="param-type">number</td><td class="param-optional">optional</td><td>0=public, 1=obscured, 2=encrypted, 3=zk</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/a2a/invoke \
  -H "Content-Type: application/json" \
  -d '{
    "from_agent": "trading-bot-alpha",
    "to_agent": "price-oracle",
    "capability_id": "cap.price.lookup.v1",
    "inputs": { "base_token": "SOL" }
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"a2a_protocol"</span>: {
    <span class="key">"from"</span>: <span class="string">"trading-bot-alpha"</span>,
    <span class="key">"to"</span>: <span class="string">"price-oracle"</span>,
    <span class="key">"execution_time_ms"</span>: <span class="number">164</span>
  },
  <span class="key">"outputs"</span>: { <span class="key">"price"</span>: <span class="number">185.42</span> },
  <span class="key">"reputation_updated"</span>: <span class="boolean">true</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/a2a/discover/:capability_id</span>
            <span class="endpoint-desc">Find agents that provide a capability</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Discover agents that provide a specific capability. Filter by trust score, latency, and success rate.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Path Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">capability_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Capability to search for</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">min_trust</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Minimum trust score (0-100)</td></tr>
                <tr><td class="param-name">max_latency</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Maximum avg latency in ms</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/a2a/discover/cap.price.lookup.v1?min_trust=50"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"agents"</span>: [
    {
      <span class="key">"agent_id"</span>: <span class="string">"price-oracle"</span>,
      <span class="key">"trust_score"</span>: <span class="number">87</span>,
      <span class="key">"avg_latency_ms"</span>: <span class="number">45</span>,
      <span class="key">"success_rate"</span>: <span class="number">0.99</span>,
      <span class="key">"total_invocations"</span>: <span class="number">12450</span>
    }
  ],
  <span class="key">"total"</span>: <span class="number">3</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/a2a/auction</span>
            <span class="endpoint-desc">Agents compete to fulfill request</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Create an auction where multiple agents bid to fulfill a capability request. Winner selected by price, trust, and latency.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">requester_agent</td><td class="param-type">string</td><td class="param-required">required</td><td>Agent requesting the auction</td></tr>
                <tr><td class="param-name">capability_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Capability to auction</td></tr>
                <tr><td class="param-name">max_price</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Maximum acceptable bid</td></tr>
                <tr><td class="param-name">inputs</td><td class="param-type">object</td><td class="param-optional">optional</td><td>Capability inputs</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/a2a/auction \
  -H "Content-Type: application/json" \
  -d '{
    "requester_agent": "my-trading-bot",
    "capability_id": "cap.price.lookup.v1",
    "max_price": 10
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"auction_id"</span>: <span class="string">"auc_xyz789"</span>,
  <span class="key">"winner"</span>: {
    <span class="key">"agent_id"</span>: <span class="string">"price-oracle"</span>,
    <span class="key">"bid"</span>: <span class="number">5</span>,
    <span class="key">"trust_score"</span>: <span class="number">87</span>
  },
  <span class="key">"total_bids"</span>: <span class="number">4</span>,
  <span class="key">"outputs"</span>: { <span class="key">"price"</span>: <span class="number">185.42</span> }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/a2a/swarm</span>
            <span class="endpoint-desc">Coordinate multiple agents</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Execute a task across multiple agents. Supports parallel (all at once) or sequential (one after another) strategies.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">coordinator_agent</td><td class="param-type">string</td><td class="param-required">required</td><td>Agent coordinating the swarm</td></tr>
                <tr><td class="param-name">task</td><td class="param-type">object</td><td class="param-required">required</td><td>Task with <code>capability_id</code> and <code>inputs</code></td></tr>
                <tr><td class="param-name">agents</td><td class="param-type">string[]</td><td class="param-required">required</td><td>Array of agent IDs to include</td></tr>
                <tr><td class="param-name">strategy</td><td class="param-type">string</td><td class="param-optional">optional</td><td><code>parallel</code> or <code>sequential</code> (default)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/a2a/swarm \
  -H "Content-Type: application/json" \
  -d '{
    "coordinator_agent": "orchestrator",
    "task": { "capability_id": "cap.price.lookup.v1" },
    "agents": ["bot-1", "bot-2", "bot-3"],
    "strategy": "parallel"
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"swarm_id"</span>: <span class="string">"swm_abc123"</span>,
  <span class="key">"strategy"</span>: <span class="string">"parallel"</span>,
  <span class="key">"results"</span>: [
    { <span class="key">"agent"</span>: <span class="string">"bot-1"</span>, <span class="key">"success"</span>: <span class="boolean">true</span>, <span class="key">"latency_ms"</span>: <span class="number">45</span> },
    { <span class="key">"agent"</span>: <span class="string">"bot-2"</span>, <span class="key">"success"</span>: <span class="boolean">true</span>, <span class="key">"latency_ms"</span>: <span class="number">52</span> },
    { <span class="key">"agent"</span>: <span class="string">"bot-3"</span>, <span class="key">"success"</span>: <span class="boolean">true</span>, <span class="key">"latency_ms"</span>: <span class="number">38</span> }
  ],
  <span class="key">"total_time_ms"</span>: <span class="number">52</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/a2a/leaderboard</span>
            <span class="endpoint-desc">Agent reputation rankings</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Get ranked list of agents by composite reputation score. Score is calculated from trust, success rate, latency, and capabilities count.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">limit</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Max results (default: 10, max: 100)</td></tr>
                <tr><td class="param-name">sort_by</td><td class="param-type">string</td><td class="param-optional">optional</td><td><code>composite_score</code>, <code>trust_score</code>, <code>total_invocations</code></td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/a2a/leaderboard?limit=5"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"leaderboard"</span>: [
    {
      <span class="key">"rank"</span>: <span class="number">1</span>,
      <span class="key">"agent_id"</span>: <span class="string">"price-oracle"</span>,
      <span class="key">"composite_score"</span>: <span class="number">94.5</span>,
      <span class="key">"trust_score"</span>: <span class="number">87</span>,
      <span class="key">"success_rate"</span>: <span class="number">0.99</span>,
      <span class="key">"total_invocations"</span>: <span class="number">12450</span>
    }
  ],
  <span class="key">"total_agents"</span>: <span class="number">47</span>
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">MEV Protection</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/mev/analyze</span>
            <span class="endpoint-desc">Analyze sandwich attack risk</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Analyze a potential trade for MEV risk. Returns sandwich attack probability, potential loss estimate, and protection recommendations.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">token_in</td><td class="param-type">string</td><td class="param-required">required</td><td>Input token symbol or mint address</td></tr>
                <tr><td class="param-name">token_out</td><td class="param-type">string</td><td class="param-required">required</td><td>Output token symbol or mint address</td></tr>
                <tr><td class="param-name">amount</td><td class="param-type">number</td><td class="param-required">required</td><td>Amount in token_in units</td></tr>
                <tr><td class="param-name">slippage</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Slippage tolerance % (default: 0.5)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/mev/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "token_in": "SOL",
    "token_out": "USDC",
    "amount": 10000,
    "slippage": 0.5
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"risk_level"</span>: <span class="string">"high"</span>,
  <span class="key">"sandwich_probability"</span>: <span class="number">0.73</span>,
  <span class="key">"estimated_loss_usd"</span>: <span class="number">542.50</span>,
  <span class="key">"recommendation"</span>: <span class="string">"Use protected swap"</span>,
  <span class="key">"analysis"</span>: {
    <span class="key">"pool_liquidity"</span>: <span class="number">2450000</span>,
    <span class="key">"trade_impact_bps"</span>: <span class="number">41</span>,
    <span class="key">"recent_mev_activity"</span>: <span class="boolean">true</span>
  }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/mev/protected-swap</span>
            <span class="endpoint-desc">Execute with MEV protection</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Execute a swap via private mempool (Arcium MPC) for MEV protection. Trade details are hidden from public mempool.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">token_in</td><td class="param-type">string</td><td class="param-required">required</td><td>Input token</td></tr>
                <tr><td class="param-name">token_out</td><td class="param-type">string</td><td class="param-required">required</td><td>Output token</td></tr>
                <tr><td class="param-name">amount</td><td class="param-type">number</td><td class="param-required">required</td><td>Amount to swap</td></tr>
                <tr><td class="param-name">wallet_address</td><td class="param-type">string</td><td class="param-required">required</td><td>Destination wallet</td></tr>
                <tr><td class="param-name">protection_level</td><td class="param-type">string</td><td class="param-optional">optional</td><td><code>standard</code>, <code>enhanced</code>, <code>maximum</code></td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/mev/protected-swap \
  -H "Content-Type: application/json" \
  -d '{
    "token_in": "SOL",
    "token_out": "USDC",
    "amount": 100,
    "wallet_address": "ABC123...",
    "protection_level": "maximum"
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"tx_signature"</span>: <span class="string">"5xYz..."</span>,
  <span class="key">"amount_received"</span>: <span class="number">18542.50</span>,
  <span class="key">"mev_saved_usd"</span>: <span class="number">127.30</span>,
  <span class="key">"protection"</span>: {
    <span class="key">"level"</span>: <span class="string">"maximum"</span>,
    <span class="key">"method"</span>: <span class="string">"arcium_mpc"</span>
  }
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">Trading Alpha</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/alpha/arbitrage</span>
            <span class="endpoint-desc">Cross-DEX arbitrage opportunities</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Find real-time arbitrage opportunities across DEXs. Returns profitable routes with estimated profit after gas.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">min_profit_bps</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Minimum profit in basis points (default: 5)</td></tr>
                <tr><td class="param-name">max_results</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Max opportunities to return (default: 10)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/alpha/arbitrage?min_profit_bps=10"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"opportunities"</span>: [
    {
      <span class="key">"pair"</span>: <span class="string">"SOL/USDC"</span>,
      <span class="key">"buy_dex"</span>: <span class="string">"raydium"</span>,
      <span class="key">"sell_dex"</span>: <span class="string">"orca"</span>,
      <span class="key">"profit_bps"</span>: <span class="number">23</span>,
      <span class="key">"profit_usd"</span>: <span class="number">42.50</span>,
      <span class="key">"expires_in_ms"</span>: <span class="number">1500</span>
    }
  ],
  <span class="key">"scanned_pairs"</span>: <span class="number">847</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/alpha/whale-tracker</span>
            <span class="endpoint-desc">Monitor large wallet movements (Live Helius Data)</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Track real whale movements using <strong>Helius Enhanced Transactions API</strong>. Monitors known whale wallets (Jump Trading, large SOL holders, protocol treasuries) for swaps and transfers. Returns market sentiment derived from buy/sell volume analysis.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Data Sources</div>
              <p>• <strong>Helius</strong> - Real-time transaction data with 3 API keys for high availability<br>
              • <strong>Nansen</strong> - Smart money labels and wallet categorization (when credits available)<br>
              • <strong>Jupiter</strong> - Current token prices for USD valuations</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">token</td><td class="param-type">string</td><td class="param-optional">optional</td><td>Filter by token symbol (SOL, USDC, JUP, BONK)</td></tr>
                <tr><td class="param-name">min_value</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Minimum USD value (default: 100000)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/alpha/whale-tracker?token=SOL&min_value=500000"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"whale_tracker"</span>: {
    <span class="key">"movements"</span>: [
      {
        <span class="key">"wallet"</span>: <span class="string">"FWzn...ouN5"</span>,
        <span class="key">"wallet_label"</span>: <span class="string">"Jump Trading (smart_money)"</span>,
        <span class="key">"action"</span>: <span class="string">"buy"</span>,
        <span class="key">"token"</span>: <span class="string">"SOL"</span>,
        <span class="key">"amount"</span>: <span class="number">50000</span>,
        <span class="key">"value_usd"</span>: <span class="number">7250000</span>,
        <span class="key">"signature"</span>: <span class="string">"h8ui...fLiP"</span>,
        <span class="key">"significance"</span>: <span class="string">"BULLISH - Large accumulation"</span>
      }
    ],
    <span class="key">"summary"</span>: {
      <span class="key">"total_movements"</span>: <span class="number">5</span>,
      <span class="key">"buy_volume_usd"</span>: <span class="number">45000000</span>,
      <span class="key">"sell_volume_usd"</span>: <span class="number">12000000</span>,
      <span class="key">"net_flow_usd"</span>: <span class="number">33000000</span>,
      <span class="key">"market_sentiment"</span>: <span class="string">"BULLISH"</span>
    },
    <span class="key">"data_source"</span>: <span class="string">"helius_enhanced_transactions + nansen_labels"</span>
  }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/alpha/smart-money</span>
            <span class="endpoint-desc">Smart Money Activity (Live Nansen Data)</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Track what smart money wallets are buying and selling using <strong>Nansen TGM API</strong>. Returns labeled traders (funds, whales, smart traders) with their 24h buy/sell volumes and net flow.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Data Source</div>
              <p>• <strong>Nansen</strong> - Token God Mode who-bought-sold endpoint (1 credit per call)</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">token</td><td class="param-type">string</td><td class="param-optional">optional</td><td>Token symbol: SOL, JUP, BONK, WIF, PYTH (default: SOL)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/alpha/smart-money?token=SOL"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"smart_money"</span>: {
    <span class="key">"token"</span>: <span class="string">"SOL"</span>,
    <span class="key">"traders"</span>: [
      {
        <span class="key">"address"</span>: <span class="string">"8aHV...3MXx"</span>,
        <span class="key">"label"</span>: <span class="string">"Active SOL Millionaire"</span>,
        <span class="key">"bought_volume_usd"</span>: <span class="number">1578603615</span>,
        <span class="key">"sold_volume_usd"</span>: <span class="number">38696321</span>,
        <span class="key">"net_volume_usd"</span>: <span class="number">1539907293</span>,
        <span class="key">"action"</span>: <span class="string">"accumulating"</span>
      }
    ],
    <span class="key">"summary"</span>: {
      <span class="key">"accumulators"</span>: <span class="number">14</span>,
      <span class="key">"distributors"</span>: <span class="number">3</span>,
      <span class="key">"net_flow_usd"</span>: <span class="number">24500000</span>,
      <span class="key">"sentiment"</span>: <span class="string">"BULLISH"</span>
    },
    <span class="key">"data_source"</span>: <span class="string">"nansen_tgm_who_bought_sold"</span>
  }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/alpha/liquidations</span>
            <span class="endpoint-desc">DeFi liquidation opportunities</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Monitor at-risk DeFi positions approaching liquidation thresholds. Returns positions sorted by proximity to liquidation.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Query Parameters</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">protocol</td><td class="param-type">string</td><td class="param-optional">optional</td><td>Filter by protocol: <code>solend</code>, <code>mango</code>, <code>marginfi</code></td></tr>
                <tr><td class="param-name">min_value</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Minimum position value USD</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl "https://cap402.com/alpha/liquidations?min_value=10000"</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"at_risk_positions"</span>: [
    {
      <span class="key">"protocol"</span>: <span class="string">"solend"</span>,
      <span class="key">"wallet"</span>: <span class="string">"DEF...789"</span>,
      <span class="key">"collateral_usd"</span>: <span class="number">125000</span>,
      <span class="key">"debt_usd"</span>: <span class="number">98000</span>,
      <span class="key">"health_factor"</span>: <span class="number">1.05</span>,
      <span class="key">"liquidation_price"</span>: <span class="number">172.50</span>,
      <span class="key">"current_price"</span>: <span class="number">185.42</span>
    }
  ],
  <span class="key">"total_at_risk_usd"</span>: <span class="number">4250000</span>
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">Agents</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/agents/register</span>
            <span class="endpoint-desc">Register a new agent</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Register an agent with the CAP-402 network. Agents can provide capabilities and participate in A2A protocol.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">agent_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Unique agent identifier (alphanumeric, hyphens)</td></tr>
                <tr><td class="param-name">name</td><td class="param-type">string</td><td class="param-required">required</td><td>Human-readable agent name</td></tr>
                <tr><td class="param-name">capabilities_provided</td><td class="param-type">string[]</td><td class="param-optional">optional</td><td>Capabilities this agent can fulfill</td></tr>
                <tr><td class="param-name">webhook_url</td><td class="param-type">string</td><td class="param-optional">optional</td><td>URL for receiving invocation requests</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/agents/register \
  -H "Content-Type: application/json" \
  -d '{
    "agent_id": "my-trading-bot",
    "name": "My Trading Bot",
    "capabilities_provided": ["cap.price.lookup.v1"],
    "webhook_url": "https://mybot.com/webhook"
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"agent"</span>: {
    <span class="key">"agent_id"</span>: <span class="string">"my-trading-bot"</span>,
    <span class="key">"api_key"</span>: <span class="string">"cap_sk_..."</span>,
    <span class="key">"trust_score"</span>: <span class="number">50</span>,
    <span class="key">"created_at"</span>: <span class="number">1705347600000</span>
  }
}</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Errors</div>
              <ul class="error-list">
                <li><span class="error-code">400</span><span class="error-desc">Invalid agent_id format</span></li>
                <li><span class="error-code">409</span><span class="error-desc">Agent ID already exists</span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">System</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/sponsors/health</span>
            <span class="endpoint-desc">Sponsor integration health</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Check connectivity and status of all sponsor integrations (Arcium, Noir, Helius, Inco).</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl https://cap402.com/sponsors/health</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"overall_status"</span>: <span class="string">"healthy"</span>,
  <span class="key">"sponsors"</span>: {
    <span class="key">"arcium"</span>: { <span class="key">"status"</span>: <span class="string">"connected"</span>, <span class="key">"latency_ms"</span>: <span class="number">45</span> },
    <span class="key">"noir"</span>: { <span class="key">"status"</span>: <span class="string">"connected"</span>, <span class="key">"latency_ms"</span>: <span class="number">12</span> },
    <span class="key">"helius"</span>: { <span class="key">"status"</span>: <span class="string">"connected"</span>, <span class="key">"latency_ms"</span>: <span class="number">28</span> },
    <span class="key">"inco"</span>: { <span class="key">"status"</span>: <span class="string">"connected"</span>, <span class="key">"latency_ms"</span>: <span class="number">67</span> }
  },
  <span class="key">"last_check"</span>: <span class="number">1705347600000</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/system/dashboard</span>
            <span class="endpoint-desc">Real-time system overview</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Get comprehensive system status including capabilities, agents, invocations, and performance metrics.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl https://cap402.com/system/dashboard</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"capabilities"</span>: { <span class="key">"total"</span>: <span class="number">13</span>, <span class="key">"active"</span>: <span class="number">13</span> },
  <span class="key">"agents"</span>: { <span class="key">"registered"</span>: <span class="number">47</span>, <span class="key">"active_24h"</span>: <span class="number">23</span> },
  <span class="key">"invocations"</span>: {
    <span class="key">"total_24h"</span>: <span class="number">145230</span>,
    <span class="key">"success_rate"</span>: <span class="number">0.987</span>,
    <span class="key">"avg_latency_ms"</span>: <span class="number">89</span>
  },
  <span class="key">"privacy"</span>: {
    <span class="key">"confidential_ratio"</span>: <span class="number">0.77</span>,
    <span class="key">"zk_proofs_generated"</span>: <span class="number">12450</span>
  },
  <span class="key">"sponsors"</span>: { <span class="key">"all_healthy"</span>: <span class="boolean">true</span> },
  <span class="key">"uptime_percent"</span>: <span class="number">99.97</span>
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="endpoint-group">
        <div class="endpoint-group-title">Confidential Execution Pipeline</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/confidential</span>
            <span class="endpoint-desc">Full confidential pipeline (Noir→Inco→Arcium→Noir)</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Execute with full confidential pipeline. Chains ZK eligibility proof → FHE encryption → MPC execution → execution proof. <strong>Mandatory for trades >$100K.</strong></p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">agent_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Agent identifier</td></tr>
                <tr><td class="param-name">operation</td><td class="param-type">string</td><td class="param-required">required</td><td>swap | transfer | bid | vote | delegate | prove</td></tr>
                <tr><td class="param-name">amount_usd</td><td class="param-type">number</td><td class="param-required">required</td><td>Trade size in USD</td></tr>
                <tr><td class="param-name">inputs</td><td class="param-type">object</td><td class="param-optional">optional</td><td>Operation-specific inputs</td></tr>
                <tr><td class="param-name">required_proofs</td><td class="param-type">string[]</td><td class="param-optional">optional</td><td>ZK proofs to generate (e.g., balance_threshold)</td></tr>
                <tr><td class="param-name">privacy_level</td><td class="param-type">string</td><td class="param-optional">optional</td><td>public | protected | confidential | maximum</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/execute/confidential \
  -H "Content-Type: application/json" \
  -d '{
    "agent_id": "my-agent",
    "operation": "swap",
    "amount_usd": 150000,
    "inputs": { "token_in": "SOL", "token_out": "USDC" },
    "required_proofs": ["balance_threshold"]
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"execution_id"</span>: <span class="string">"exec_1705347600_a1b2c3d4"</span>,
  <span class="key">"tier"</span>: <span class="string">"confidential"</span>,
  <span class="key">"stages_completed"</span>: [<span class="string">"noir_eligibility"</span>, <span class="string">"inco_encrypt"</span>, <span class="string">"arcium_mpc"</span>, <span class="string">"noir_execution_proof"</span>],
  <span class="key">"fee_usd"</span>: <span class="number">150</span>,
  <span class="key">"slippage_saved_bps"</span>: <span class="number">145</span>,
  <span class="key">"total_time_ms"</span>: <span class="number">3847</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/tier</span>
            <span class="endpoint-desc">Determine required execution tier</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Check what execution tier is required/recommended for a given trade size.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">amount_usd</td><td class="param-type">number</td><td class="param-required">required</td><td>Trade size in USD</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"amount_usd"</span>: <span class="number">150000</span>,
  <span class="key">"tier"</span>: <span class="string">"confidential"</span>,
  <span class="key">"thresholds"</span>: { <span class="key">"ARCIUM_MANDATORY"</span>: <span class="number">100000</span>, <span class="key">"INCO_RECOMMENDED"</span>: <span class="number">50000</span> },
  <span class="key">"recommendation"</span>: <span class="string">"MANDATORY: Use /execute/confidential for MEV protection"</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/threshold-sign</span>
            <span class="endpoint-desc">Multi-party threshold signature</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Generate a threshold signature where multiple parties sign without revealing individual keys.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">signers</td><td class="param-type">string[]</td><td class="param-required">required</td><td>Array of signer identifiers</td></tr>
                <tr><td class="param-name">threshold</td><td class="param-type">number</td><td class="param-required">required</td><td>Minimum signers required (e.g., 2 of 3)</td></tr>
                <tr><td class="param-name">message_hash</td><td class="param-type">string</td><td class="param-required">required</td><td>Hash of message to sign</td></tr>
              </table>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/multi-swap</span>
            <span class="endpoint-desc">Atomic multi-party swap</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Execute atomic swaps between multiple parties simultaneously without revealing individual amounts.</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/orderbook</span>
            <span class="endpoint-desc">Create encrypted orderbook</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Create a dark pool orderbook where prices and sizes are encrypted with FHE.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">asset_pair</td><td class="param-type">string</td><td class="param-required">required</td><td>Trading pair (e.g., "SOL/USDC")</td></tr>
              </table>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/orderbook/:id/order</span>
            <span class="endpoint-desc">Submit encrypted order</span>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/orderbook/:id/match</span>
            <span class="endpoint-desc">Match orders via FHE comparison</span>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/auction</span>
            <span class="endpoint-desc">Create private auction</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Create a sealed-bid auction where bids are encrypted. Winner determined without revealing losing bids.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">auctioneer</td><td class="param-type">string</td><td class="param-required">required</td><td>Auctioneer agent ID</td></tr>
                <tr><td class="param-name">asset</td><td class="param-type">string</td><td class="param-required">required</td><td>Asset being auctioned</td></tr>
                <tr><td class="param-name">reserve_price</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Encrypted reserve price</td></tr>
              </table>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/auction/:id/bid</span>
            <span class="endpoint-desc">Submit encrypted bid</span>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/auction/:id/settle</span>
            <span class="endpoint-desc">Settle auction</span>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/execute/prove-performance</span>
            <span class="endpoint-desc">Generate performance proof</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Prove agent performance metrics (win rate, volume, profitability) without revealing strategy details.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">agent_id</td><td class="param-type">string</td><td class="param-required">required</td><td>Agent identifier</td></tr>
                <tr><td class="param-name">metrics</td><td class="param-type">object</td><td class="param-required">required</td><td>{ total_trades, profitable_trades, total_volume_usd, total_pnl_usd }</td></tr>
                <tr><td class="param-name">claim_type</td><td class="param-type">string</td><td class="param-required">required</td><td>win_rate | volume | profitability</td></tr>
              </table>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/execute/stats</span>
            <span class="endpoint-desc">Pipeline statistics</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"execution_count"</span>: <span class="number">1234</span>,
  <span class="key">"total_volume_usd"</span>: <span class="number">45000000</span>,
  <span class="key">"total_fees_usd"</span>: <span class="number">45000</span>,
  <span class="key">"active_orderbooks"</span>: <span class="number">12</span>,
  <span class="key">"active_auctions"</span>: <span class="number">5</span>,
  <span class="key">"avg_fee_rate_bps"</span>: <span class="number">10</span>
}</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- StealthPump / Unified Privacy -->
      <div class="endpoint-group">
        <div class="endpoint-group-title">🥷 StealthPump — Privacy-First Token Launches</div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method post">POST</span>
            <span class="endpoint-path">/unified/launch</span>
            <span class="endpoint-desc">Execute unified privacy-first token launch</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Launch a token on pump.fun via <a href="https://stealthpump.fun" target="_blank" style="color: var(--arcium-purple);">stealthpump.fun</a> with privacy features: hidden creator wallet, MEV protection, timing obfuscation. Creator revealed only on graduation (85 SOL).</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Request Body</div>
              <table class="params-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td class="param-name">token</td><td class="param-type">object</td><td class="param-required">required</td><td>{ name, symbol, description, image?, twitter?, telegram?, website? }</td></tr>
                <tr><td class="param-name">initial_buy_sol</td><td class="param-type">number</td><td class="param-required">required</td><td>Initial buy amount in SOL</td></tr>
                <tr><td class="param-name">privacy_level</td><td class="param-type">string</td><td class="param-optional">optional</td><td>basic | enhanced | maximum (default: enhanced)</td></tr>
                <tr><td class="param-name">slippage_bps</td><td class="param-type">number</td><td class="param-optional">optional</td><td>Slippage tolerance in basis points (default: 500)</td></tr>
              </table>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Example Request</div>
              <div class="code-block">curl -X POST https://cap402.com/unified/launch \
  -H "Content-Type: application/json" \
  -d '{
    "token": {"name": "StealthCoin", "symbol": "STEALTH", "description": "Privacy-first launch"},
    "initial_buy_sol": 1.5,
    "privacy_level": "enhanced"
  }'</div>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"mint_address"</span>: <span class="string">"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU"</span>,
  <span class="key">"pump_fun_url"</span>: <span class="string">"https://pump.fun/7xKXtg..."</span>,
  <span class="key">"privacy_level"</span>: <span class="string">"enhanced"</span>,
  <span class="key">"privacy_score"</span>: <span class="number">85</span>,
  <span class="key">"privacy_grade"</span>: <span class="string">"A"</span>,
  <span class="key">"creator_hidden"</span>: <span class="boolean">true</span>,
  <span class="key">"mev_protected"</span>: <span class="boolean">true</span>
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/unified/dashboard/:mint_address</span>
            <span class="endpoint-desc">Aggregated dashboard data from all systems</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Get unified dashboard data combining CAP-402 privacy metrics, StealthPump registry, and pump.fun market data.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"token"</span>: { <span class="key">"mint"</span>: <span class="string">"..."</span>, <span class="key">"name"</span>: <span class="string">"StealthCoin"</span>, <span class="key">"symbol"</span>: <span class="string">"STEALTH"</span> },
  <span class="key">"market"</span>: { <span class="key">"bonding_curve_progress"</span>: <span class="number">45.2</span>, <span class="key">"sol_raised"</span>: <span class="number">38.4</span>, <span class="key">"graduated"</span>: <span class="boolean">false</span> },
  <span class="key">"privacy"</span>: { <span class="key">"score"</span>: <span class="number">85</span>, <span class="key">"grade"</span>: <span class="string">"A"</span>, <span class="key">"creator_revealed"</span>: <span class="boolean">false</span> },
  <span class="key">"anonymity"</span>: { <span class="key">"score"</span>: <span class="number">72</span>, <span class="key">"total_holders"</span>: <span class="number">156</span>, <span class="key">"anonymous_holders"</span>: <span class="number">112</span> }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/unified/privacy-presets</span>
            <span class="endpoint-desc">Get privacy configuration presets</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Returns available privacy presets: basic (hidden creator), enhanced (+ MEV protection, timing obfuscation), maximum (+ no auto-reveal, Noir ZK proofs).</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/unified/status</span>
            <span class="endpoint-desc">System integration status</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Check status of CAP-402, StealthPump, and pump.fun integration. Returns operational status, active launches, and integration health.</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/stealthpump/privacy-score/:mint_address</span>
            <span class="endpoint-desc">Get privacy score for a token</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Calculate comprehensive privacy score (0-100) with grade (A-F) based on: creator visibility, holder anonymity, funding obfuscation, MEV protection, timing patterns.</p>
            </div>
            <div class="endpoint-section">
              <div class="endpoint-section-title">Response</div>
              <div class="response-block">{
  <span class="key">"success"</span>: <span class="boolean">true</span>,
  <span class="key">"privacy_score"</span>: <span class="number">85</span>,
  <span class="key">"grade"</span>: <span class="string">"A"</span>,
  <span class="key">"factors"</span>: {
    <span class="key">"creator_hidden"</span>: <span class="boolean">true</span>,
    <span class="key">"holder_anonymity"</span>: <span class="number">72</span>,
    <span class="key">"funding_obfuscated"</span>: <span class="boolean">true</span>,
    <span class="key">"mev_protected"</span>: <span class="boolean">true</span>,
    <span class="key">"timing_obfuscated"</span>: <span class="boolean">true</span>
  }
}</div>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/stealthpump/stealth/view/:mint_address</span>
            <span class="endpoint-desc">Privacy-preserving token view</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>View token data with creator hidden until graduation. Shows bonding curve progress, market cap, but masks creator wallet.</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/stealthpump/monitor/:mint_address</span>
            <span class="endpoint-desc">Start graduation monitoring</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Monitor a token for graduation (85 SOL threshold). Returns current progress and emits events on graduation.</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/stealthpump/anonymity/:mint_address</span>
            <span class="endpoint-desc">Holder anonymity analysis</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Analyze holder distribution for anonymity. Tracks anonymous vs revealed holders, concentration metrics, and deanonymization risks.</p>
            </div>
          </div>
        </div>
        
        <div class="endpoint">
          <div class="endpoint-header">
            <span class="method get">GET</span>
            <span class="endpoint-path">/stealthpump/pumpfun-data/:mint_address</span>
            <span class="endpoint-desc">Pump.fun compatible data format</span>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-section">
              <div class="endpoint-section-title">Description</div>
              <p>Returns token data in pump.fun's exact format for frontend compatibility. Includes bonding curve progress, market cap, and display formatting.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>

  <script>
    // Endpoint toggling
    document.querySelectorAll(".endpoint").forEach(ep => {
      ep.addEventListener("click", function() { this.classList.toggle("open"); });
    });
  </script>
</body>
</html>
